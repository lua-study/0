# å‰è¨€

é«˜ä»¿é¥¿äº†ä¹ˆï¼Œä»¥nuxtä½œä¸ºvueçš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œé€‚åˆåˆšæ¥è§¦æˆ–è€…å‡†å¤‡ä¸Švue ssrçš„åŒå­¦å‚è€ƒå’Œå­¦ä¹ 

å¦‚é‡ç½‘ç»œä¸ä½³ï¼Œè¯·ç§»æ­¥[å›½å†…é•œåƒåŠ é€ŸèŠ‚ç‚¹](https://gitee.com/easytuan/nuxt-elm)

# æ•ˆæœæ¼”ç¤º

[æŸ¥çœ‹demoè¯·æˆ³è¿™é‡Œ](https://elm.caibowen.net/)ï¼ˆè¯·ç”¨chromeæ‰‹æœºæ¨¡å¼é¢„è§ˆï¼‰

### ç§»åŠ¨ç«¯æ‰«æä¸‹æ–¹äºŒç»´ç 

 

# APIæ¥å£æ–‡æ¡£

[æ¥å£æ–‡æ¡£åœ°å€](https://easytuan.gitee.io/node-elm-api/doc)ï¼ˆåŸºäºapidocï¼‰

# æŠ€æœ¯æ ˆ

vue2 + vuex + vue-router + mint-ui + nuxt

## é¡¹ç›®è¿è¡Œ

```

git clone git@github.com:EasyTuan/nuxt-elm.git

# å›½å†…é•œåƒåŠ é€ŸèŠ‚ç‚¹:git@gitee.com:easytuan/node-elm-api.git

cd nuxt-elm

npm install

npm run dev

#æ¨¡ç‰ˆå¿«é€Ÿç”Ÿæˆ
npm run tep `æ–‡ä»¶å`

# pm2éƒ¨ç½²
npm run start

```

## è¡¥å……

æ­¤é¡¹ç›®æœ‰é…å¥—çš„åå°ç³»ç»Ÿï¼Œå¦‚æœæƒ³ä½“éªŒå‰åå°åŒæ—¶å¼€å‘ï¼Œå¯ä»¥ä¸‹è½½å¯¹åº”çš„åå°ç³»ç»Ÿï¼š[åå°é¡¹ç›®ä¼ é€åœ°å€](https://github.com/EasyTuan/node-elm-api)ã€‚

å¦‚æœåªåšå‰ç«¯å¼€å‘ï¼Œè¯·å¿½ç•¥è¿™å¥è¯ã€‚


# ç›®æ ‡åŠŸèƒ½
- [x] å•†å®¶åˆ—è¡¨ -- å®Œæˆ
- [x] è´­ç‰©è½¦åŠŸèƒ½ -- å®Œæˆ
- [x] é¤é¦†é£Ÿå“åˆ—è¡¨é¡µ -- å®Œæˆ
- [x] åº—é“ºè¯„ä»·é¡µé¢ -- å®Œæˆ
- [x] å•†å®¶è¯¦æƒ…é¡µ -- å®Œæˆ
- [x] ç™»å½•ã€æ³¨å†Œ -- å®Œæˆ
- [x] ä¿®æ”¹å¯†ç  -- å®Œæˆ
- [x] ä¸ªäººä¸­å¿ƒ -- å®Œæˆ
- [x] çº¢åŒ… -- å®Œæˆ
- [x] æ”¶è´§åœ°å€ -- å®Œæˆ

# ä¸šåŠ¡ä»‹ç»

ç›®å½•ç»“æ„

    â”œâ”€â”€ assets               // é™æ€èµ„æº
    â”‚Â Â  â”œâ”€â”€ images                // å›¾ç‰‡èµ„æº
    â”‚Â Â  â”œâ”€â”€ services              // apiè¯·æ±‚
    â”‚Â Â  â”œâ”€â”€ styles                // æ ·å¼æ–‡ä»¶
    â”‚Â Â  â””â”€â”€ utils                 // å¸¸ç”¨å·¥å…·ç±»
    â”œâ”€â”€ components           // ç»„ä»¶
    â”œâ”€â”€ config
    â”‚Â Â  â””â”€â”€ index.js              // é…ç½®æ–‡ä»¶
    â”œâ”€â”€ layouts              // å¸ƒå±€
    â”œâ”€â”€ middleware           // ä¸­é—´ä»¶
    â”œâ”€â”€ pages                // é¡µé¢
    â”œâ”€â”€ plugins              // æ’ä»¶
    â”œâ”€â”€ static               // é™æ€èµ„æº
    â””â”€â”€ store                //vuexçŠ¶æ€æ ‘


## éƒ¨åˆ†æˆªå›¾å±•ç¤º

### é¦–é¡µå±•ç¤º

   

### ä¸ªäººèµ„æ–™

   

### æˆ‘çš„

   

### è®¢é¤

   

### å•†å®¶è¯„ä»·

   

# è¯´æ˜

>  å¦‚æœå¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ‚¨å¯ä»¥ç‚¹å³ä¸Šè§’ "Star" æ”¯æŒä¸€ä¸‹ è°¢è°¢ï¼ ^_^

>  æˆ–è€…æ‚¨å¯ä»¥ "follow" ä¸€ä¸‹ï¼Œæˆ‘ä¼šä¸æ–­å¼€æºæ›´å¤šçš„æœ‰è¶£çš„é¡¹ç›®

>  å¦‚æœ‰é—®é¢˜è¯·ç›´æ¥åœ¨ Issues ä¸­æï¼Œæˆ–è€…æ‚¨å‘ç°é—®é¢˜å¹¶æœ‰éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ¬¢è¿ PR ğŸ‘

# å¼€å‘æ—¥å¸¸è®°å½•

### nuxtæ¨¡ç‰ˆæ­å»º

è¿™é‡Œå…³äºé¡¹ç›®åˆå§‹åŒ–ï¼Œæˆ‘æ˜¯ç›´æ¥ä½¿ç”¨çš„ `Nuxt` å®˜ç½‘æä¾›çš„ starter æ¨¡æ¿

```shell

# å®‰è£… vue-cli
npm install -g vue-cli

# åˆå§‹åŒ–é¡¹ç›®
vue init nuxt-community/starter-template nuxt-ssr-demo

# å®‰è£…ä¾èµ–
cd nuxt-ssr-demo
npm install

# å¯åŠ¨æœ¬åœ°æœåŠ¡
npm run dev

```

è®¿é—® http://localhost:3000 ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸‹åˆå§‹åŒ–å¥½çš„é¡¹ç›®ç›®å½•

```shell

â”œâ”€â”€ assets                      // é™æ€èµ„æº
â”œâ”€â”€ components                  // å…¨å±€ç»„ä»¶
â”œâ”€â”€ layouts                     // é¡µé¢å¸ƒå±€
â”œâ”€â”€ middleware                  // ä¸­é—´ä»¶
â”œâ”€â”€ pages                       // è·¯ç”±é¡µé¢
â”œâ”€â”€ static                      // é™æ€èµ„æºï¼Œæ‰“åŒ…æ–‡ä»¶åä¸ä¼šè¢«hash
â”œâ”€â”€ store                       // vuex
â”œâ”€â”€ nuxt.config.js              // nuxté…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md

```

æ³¨æ„ï¼šnuxté»˜è®¤ä¼šè¯»å–pagesé‡Œé¢çš„vueæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆè·¯ç”±ï¼Œå¦‚éœ€è¦è‡ªå®šä¹‰è·¯ç”±ï¼Œå¯åœ¨nuxt.config.jsä¸­é…ç½®å¯¹åº”å‚æ•°ã€‚

### requestè¯·æ±‚å°è£…

æ•°æ®å’Œå±•ç¤ºå±‚çš„å‰¥ç¦»æ˜¯æœ‰å¿…è¦çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå‰ç«¯éƒ½æå€¡MV*çš„è®¾è®¡æ¨¡å¼ï¼Œè€Œå¯¹requestè¯·æ±‚å°è£…æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ­¥è¦å®Œæˆçš„ã€‚è¿™é‡Œæˆ‘é€‰äº†axiosä½œä¸ºHTTPè¯·æ±‚å®¢æˆ·ç«¯ï¼Œaxioså…¼å®¹æµè§ˆå™¨ç«¯å’Œnodeç«¯ï¼ŒåŒæ—¶æä¾›äº†è¯·æ±‚æ‹¦æˆªã€å“åº”æ‹¦æˆªç­‰è®©æˆ‘ä»¬å¼€å‘æ›´åŠ æ„‰å¿«çš„åŠŸèƒ½ã€‚

åœ¨ `config/index.js` ä¸­å†™å…¥ï¼š

```

const json = require('../package.json');
const port = json.config.nuxt.port;

module.exports = {
  IS_RELEASE: true, // trueçº¿ä¸Šï¼Œfalseæµ‹è¯•

  BASE_URL: `http://localhost:${port}/api`, // æµ‹è¯•

  // BASE_URL: `https://elm.caibowen.net/api`, // ç”Ÿäº§

  // IMG_URL: 'http://localhost:9000/', // æµ‹è¯•

  IMG_URL: 'https://easytuan.gitee.io/node-elm-api/public/', // ç”Ÿäº§ï¼ˆä½¿ç”¨ç äº‘Gitee Pages æœåŠ¡ï¼‰

  HEADERS: {
    'Content-Type': 'application/json;charset=UTF-8'
  },

  TIMEOUT: 12000, // apiè¶…æ—¶æ—¶é—´

};

```

åœ¨ `assets/utils/request.js` ä¸­å†™å…¥ï¼š

```

import axios from 'axios';
import config from '~/config';
import { Toast } from 'mint-ui';

axios.defaults.baseURL = config.BASE_URL;
axios.defaults.timeout = config.TIMEOUT;
axios.defaults.headers = config.HEADERS;

// è¯·æ±‚æ‹¦æˆªå™¨
axios.interceptors.request.use( request => {
  if (!config.IS_RELEASE) {
    console.log(
      `${new Date().toLocaleString()}ã€ M=${request.url} ã€‘P=`,
      request.params || request.data,
    );
  }
  return request;
}, error => {
  return Promise.reject(error);
});

export default async (options = { method: 'GET' }) => {
  let isdata = true;
  if (
    options.method.toUpperCase() !== 'POST'
    && options.method.toUpperCase() !== 'PUT'
    && options.method.toUpperCase() !== 'PATCH'
  ) {
    isdata = false;
  }
  const res = await axios({
    method: options.method,
    url: options.url,
    data: isdata ? options.data : null,
    params: !isdata ? options.data : null,
  });
  if (res.status >= 200 && res.status    

# å‹æƒ…é“¾æ¥

[é¡¹ç›®åå°åœ°å€](https://github.com/EasyTuan/node-elm-api)

# License

[GPL](LICENSE)


 # è‰¯å¿ƒå‹æƒ…é“¾æ¥

[è…¾è®¯QQç¾¤å¿«é€Ÿæ£€ç´¢](http://u.720life.cn/s/8cf73f7c)

[è½¯ä»¶å…è´¹å¼€å‘è®ºå›](http://u.720life.cn/s/bbb01dc0)